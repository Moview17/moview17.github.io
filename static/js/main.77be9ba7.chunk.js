(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,i){},36:function(e,t,i){},65:function(e,t,i){},71:function(e,t,i){},72:function(e,t,i){},73:function(e,t,i){},74:function(e,t,i){},75:function(e,t,i){},76:function(e,t,i){},77:function(e,t,i){},78:function(e,t,i){"use strict";i.r(t);var s,n=i(1),a=i.n(n),c=i(16),r=i.n(c),l=i(10),u=i(25),o=i(2),d=i(4),j=i(12),p=i.n(j),m=i(18),b=i(22),h=i.n(b),v=["&key=AIzaSyCe-eX18XkjaV3_ChgXqrShm2uRUE_jPfc","&key=AIzaSyAoFn3cuM3MMBFPVpEirttb_OhcqFIfc_c","&key=AIzaSyAh_RJxB4fmqZGXt660B-7mmY-lmE79_Vc","&key=AIzaSyCnpNDwgqURJK3N3v4-hKJvt1CYRaltfYc"],f=0,O=function(){var e=Object(m.a)(p.a.mark((function e(t){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h()(t);case 3:if(403!==(i=e.sent).status){e.next=11;break}return console.log("403!!!!"),++f,x=v[f%4],e.next=10,h()(t);case 10:i=e.sent;case 11:return e.abrupt("return",{isError:!1,data:i.data});case 14:return e.prev=14,e.t0=e.catch(0),console.log("403!!!!"),++f,x=v[f%4],console.log(e.t0),e.abrupt("return",{isError:!0,data:null});case 21:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),x=v[f],g="https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=12&q=",N="https://youtube.googleapis.com/youtube/v3/videos?part=snippet%2C%20id%2C%20statistics%2CcontentDetails&id=",y="https://youtube.googleapis.com/youtube/v3/channels?part=snippet%2C%20id%2Cstatistics&id=",w="/",k={mask:"/video/:id",creator:function(e){return"/video/".concat(e)}},C={search:"/search/:q",create:function(e){return"/search/".concat(e)}},D=(i(65),function(e){var t=e.replace(/H/i,":"),i=(t=(t=(t=t.replace(/M/i,":")).replace(/S/i,"")).replace(/PT/i,"")).split(":");return 2==i.length&&Number(i[1])<10&&(i[1]="0"+i[1]),3==i.length&&(Number(i[1])<10&&(i[1]="0"+i[1]),Number(i[2])<10&&(i[2]="0"+i[2])),t=i.join(":")}),A=function(e){var t=e.slice(-1);return"1"==t?e+" \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 ":"2"==t||"3"==t||"4"==t?e+" \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 ":"5"==t||"6"==t||"7"==t||"8"==t||"9"==t||"0"==t?e+" \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432 ":void 0},S=function(e){var t=e.split(".");return t[1]=(Number(t[1])+1).toString(),Number(t[0])<10&&(t[0]="0"+t[0]),Number(t[1])<10&&(t[1]="0"+t[1]),e=t.join(".")},_=i(0),E=function(e){var t,i=e.item,s=a.a.useState({preview:i.snippet.thumbnails.medium.url,title:i.snippet.title,time:0+new Date(i.snippet.publishedAt).getDate()+"."+new Date(i.snippet.publishedAt).getMonth()+"."+new Date(i.snippet.publishedAt).getFullYear(),nickname:i.snippet.channelTitle+" ",duration:i.contentDetails.duration,views:i.statistics.viewCount,avatar:"jscsjcj"}),n=Object(d.a)(s,2),c=n[0],r=n[1],l=Object(o.f)();return t=i.id.videoId?i.id.videoId:i.id,a.a.useEffect((function(){O({method:"get",url:y+i.snippet.channelId+x}).then((function(e){var t=e.data;r({preview:i.snippet.thumbnails.medium.url,title:i.snippet.title,time:new Date(i.snippet.publishedAt).getDate()+"."+new Date(i.snippet.publishedAt).getMonth()+"."+new Date(i.snippet.publishedAt).getFullYear(),nickname:i.snippet.channelTitle,duration:i.contentDetails.duration,views:i.statistics.viewCount,avatar:t.items[0].snippet.thumbnails.default.url})}))}),[i]),Object(_.jsxs)("div",{className:"main-video",children:[Object(_.jsxs)("div",{className:"main-image-content",children:[Object(_.jsx)("img",{className:"main-image-content-img",id:t,src:c.preview,onClick:function(e){l.push(k.creator(t))}}),Object(_.jsx)("span",{className:"duration",children:D(c.duration)}),Object(_.jsx)("span",{className:"views",children:A(c.views)})]}),Object(_.jsxs)("div",{className:"bottom-info",children:[Object(_.jsx)("div",{children:Object(_.jsx)("img",{className:"channel-logo",src:c.avatar})}),Object(_.jsxs)("div",{className:"right-info",children:[Object(_.jsx)("div",{className:"heading",onClick:function(e){l.push(k.creator(t))},children:c.title}),Object(_.jsxs)("div",{className:"low",children:[Object(_.jsx)("div",{className:"nickname",children:c.nickname})," \u2022"," ",Object(_.jsxs)("div",{children:[" ",S(c.time)]})]})]})]})]},t)},I=i(41),F=(i(21),i(71),function(e){return Object(_.jsxs)("div",{className:"container",children:[Object(_.jsx)("div",{className:"circle circle-1"}),Object(_.jsx)("div",{className:"circle circle-2"}),Object(_.jsx)("div",{className:"circle circle-3"}),Object(_.jsx)("div",{className:"circle circle-4"}),Object(_.jsx)("div",{className:"circle circle-5"})]})}),q=i(38),M=i(39);!function(e){e.initial="initial",e.loading="loading",e.error="error",e.success="success"}(s||(s={}));var R=i(3),T=function(){function e(){Object(q.a)(this,e),this.videos=[],this.meta=s.initial,Object(R.e)(this,{videos:R.f,meta:R.f,fetch:R.b})}return Object(M.a)(e,[{key:"fetch",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,i,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.meta!==s.loading&&this.meta!==s.success){e.next=2;break}return e.abrupt("return");case 2:return this.meta=s.loading,this.videos=[],e.next=6,O({method:"get",url:"https://youtube.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&chart=mostPopular&maxResults=12&regionCode=RU"+x});case 6:if(t=e.sent,i=t.isError,n=t.data,!i){e.next=12;break}return this.meta=s.error,e.abrupt("return");case 12:this.videos=n.items,this.meta=s.success;case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),B=Object(I.a)((function(e){e.items;var t=function(e){var t=a.a.useRef(null);return null===t.current&&(t.current=e()),t.current}((function(){return new T}));return a.a.useEffect((function(){t.fetch()}),[]),Object(_.jsxs)("div",{className:"main",children:[t.meta===s.error&&Object(_.jsx)("div",{children:"\u043a\u0430\u043a\u0430\u044f \u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430"}),t.meta===s.loading&&Object(_.jsx)(F,{}),t.videos.map((function(e){return Object(_.jsx)(E,{item:e},e.id)}))]})})),U=function(e){return Object(_.jsx)("div",{children:Object(_.jsx)("div",{className:"background",children:Object(_.jsx)(B,{items:e.items})})})},V=(i(72),function(e){var t=e.slice(-1);return"1"==t?e+" \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a":"2"==t||"3"==t||"4"==t?e+" \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0430":"5"==t||"6"==t||"7"==t||"8"==t||"9"==t||"0"==t?e+" \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432":void 0}),P=function(e){var t=e.id,i=a.a.useState({video:"",title:void 0,views:"",date:"",description:void 0}),s=Object(d.a)(i,2),n=s[0],c=s[1],r=a.a.useState(!0),l=Object(d.a)(r,2),u=l[0],o=l[1],j=a.a.useState({avatar:void 0,nickname:void 0,subscribers:""}),p=Object(d.a)(j,2),m=p[0],b=p[1];return a.a.useEffect((function(){O({method:"get",url:N+t+x}).then((function(e){var i=e.data;c({video:"https://www.youtube.com/embed/"+t,title:i.items[0].snippet.title,views:i.items[0].statistics.viewCount,date:new Date(i.items[0].snippet.publishedAt).getDate()+"."+new Date(i.items[0].snippet.publishedAt).getMonth()+"."+new Date(i.items[0].snippet.publishedAt).getFullYear(),description:i.items[0].snippet.description}),O({method:"get",url:y+i.items[0].snippet.channelId+x}).then((function(e){var t=e.data;b({avatar:t.items[0].snippet.thumbnails.default.url,nickname:t.items[0].snippet.title,subscribers:t.items[0].statistics.subscriberCount}),o(!1)}))}))}),[t]),Object(_.jsxs)("div",{className:"player",children:[u&&Object(_.jsx)(F,{}),!u&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"player-image-content",children:Object(_.jsx)("iframe",{className:"player-img",src:n.video,frameBorder:"0",allowFullScreen:!0})}),Object(_.jsxs)("div",{className:"player-description",children:[Object(_.jsx)("div",{className:"player-name",children:n.title}),Object(_.jsxs)("div",{className:"player-undername",children:[Object(_.jsx)("div",{className:"player-view",children:A(n.views)})," \u2022"," ",Object(_.jsx)("div",{className:"player-date",children:S(n.date)})]}),Object(_.jsxs)("div",{className:"player-channel-info",children:[Object(_.jsx)("div",{children:Object(_.jsx)("img",{className:"player-channel-img",src:m.avatar})}),Object(_.jsxs)("div",{className:"player-channel-textinfo",children:[Object(_.jsx)("div",{className:"player-channel",children:m.nickname}),Object(_.jsx)("div",{className:"subscribers",children:V(m.subscribers)})]})]}),Object(_.jsx)("div",{className:"player-video-description",children:n.description})]})]})]})},X=function(e){e.mainVideos;var t=e.idsUrl,i=a.a.useState([]),s=Object(d.a)(i,2),n=s[0],c=s[1];return a.a.useEffect((function(){var e=N+t+x;e&&O({method:"get",url:e}).then((function(e){var t=e.data;c(t.items)}))}),[t]),Object(_.jsx)("div",{className:"player-main",children:n.map((function(e){return Object(_.jsx)(E,{item:e})}))})},Y=function(e){var t=e.id,i=a.a.useState([]),s=Object(d.a)(i,2),n=s[0],c=s[1],r=a.a.useState([]),l=Object(d.a)(r,2);l[0],l[1];return a.a.useEffect((function(){O({method:"get",url:"https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=12&q=?part=snippet%2C%20id&maxResults=12&q="+t+x}).then((function(e){var t=e.data;c(t.items)}))}),[t]),Object(_.jsx)("div",{className:"main-player",children:Object(_.jsx)(X,{mainVideos:n,idsUrl:n.map((function(e){return e.id.videoId})).join(",")})})},z=(i(73),function(e){var t=Object(o.g)().id;return Object(_.jsxs)("div",{className:"play background",children:[Object(_.jsx)(P,{id:t}),Object(_.jsx)(Y,{id:t})]})}),J=i(13),G=(i(74),function(e){var t,i=e.item,s=a.a.useState({preview:i.snippet.thumbnails.medium.url,title:i.snippet.title,time:0+new Date(i.snippet.publishedAt).getDate()+"."+new Date(i.snippet.publishedAt).getMonth()+"."+new Date(i.snippet.publishedAt).getFullYear(),nickname:i.snippet.channelTitle+" ",duration:i.contentDetails.duration,views:i.statistics.viewCount,avatar:"jscsjcj",description:i.snippet.description,subscribers:"jhj"}),n=Object(d.a)(s,2),c=n[0],r=n[1],l=Object(o.f)();return t=i.id.videoId?i.id.videoId:i.id,a.a.useEffect((function(){O({method:"get",url:y+i.snippet.channelId+x}).then((function(e){var t=e.data;r({preview:i.snippet.thumbnails.medium.url,title:i.snippet.title,time:new Date(i.snippet.publishedAt).getDate()+"."+new Date(i.snippet.publishedAt).getMonth()+"."+new Date(i.snippet.publishedAt).getFullYear(),nickname:i.snippet.channelTitle,duration:i.contentDetails.duration,views:i.statistics.viewCount,avatar:t.items[0].snippet.thumbnails.default.url,description:i.snippet.description,subscribers:t.items[0].statistics.subscriberCount})}))}),[]),Object(_.jsxs)("div",{className:"search__video",children:[Object(_.jsxs)("div",{className:"image-content",children:[Object(_.jsx)("img",{className:"image-content__img",src:c.preview,onClick:function(e){l.push(k.creator(t))}}),Object(_.jsx)("span",{className:"duration",children:D(c.duration)}),Object(_.jsx)("span",{className:"views",children:A(c.views)})]}),Object(_.jsxs)("div",{className:"description",children:[Object(_.jsx)("div",{className:"description__name",onClick:function(e){l.push(k.creator(t))},children:c.title}),Object(_.jsx)("div",{className:"time",children:S(c.time)}),Object(_.jsxs)("div",{className:"channel_info",children:[Object(_.jsxs)("div",{className:"channel",children:[Object(_.jsx)("div",{children:Object(_.jsx)("img",{className:"left_info",src:c.avatar})}),Object(_.jsxs)("div",{className:"ch-inf",children:[Object(_.jsx)("div",{className:"description__blogger",children:c.nickname}),Object(_.jsx)("div",{className:"description__sub",children:V(c.subscribers)})]})]}),Object(_.jsx)("div",{className:"description_video",children:c.description})]})]})]})}),K=function(e){var t=e.mainVideos,i=e.idsUrl,s=(e.page,a.a.useState([])),n=Object(d.a)(s,2),c=n[0],r=n[1];return a.a.useEffect((function(){var e=N+t.slice(-12).map((function(e){return e.id.videoId})).join(",")+x;e&&O({method:"get",url:e}).then((function(e){var t=e.data;r((function(e){return[].concat(Object(J.a)(e),Object(J.a)(t.items))}))}))}),[i]),Object(_.jsx)("div",{children:c.map((function(e,t){return Object(_.jsx)(G,{item:e})}))})},L=(i(36),i(40)),Q=function(e,t){var i=e.q,s=(t.id,a.a.useState([])),c=Object(d.a)(s,2),r=c[0],l=c[1],u=a.a.useState(!0),o=Object(d.a)(u,2),j=o[0],p=o[1],m=a.a.useState(""),b=Object(d.a)(m,2),h=b[0],v=b[1],f=a.a.useState(0),N=Object(d.a)(f,2),y=N[0],w=N[1],k=Object(n.useCallback)((function(){return console.log("ya vizvalsya"),w((function(e){return++e}))}),[]);return a.a.useEffect((function(){O({method:"get",url:0===y?g+i+x:"https://youtube.googleapis.com/youtube/v3/search?part=snippet%2C%20id&maxResults=12&type=video&q="+i+"&pageToken="+h+x}).then((function(e){var t=e.data;l((function(e){return[].concat(Object(J.a)(e),Object(J.a)(t.items))})),v(t.nextPageToken),p(!1)}))}),[i,y]),Object(_.jsxs)("div",{className:"search",id:"scrollableDiv",children:[j&&Object(_.jsx)(F,{}),!j&&Object(_.jsx)(L.a,{className:"search",next:k,hasMore:!0,dataLength:r.length,loader:Object(_.jsx)(F,{}),scrollableTarget:"scrollableDiv",children:Object(_.jsx)(K,{mainVideos:r,idsUrl:r.map((function(e){return e.id.videoId})).join(","),page:y})})]})},Z=function(e){var t=Object(o.g)().q;return Object(_.jsx)("div",{className:"background",children:Object(_.jsx)(Q,{q:t,id:e.id})})},W=(i(75),function(){var e=Object(o.f)();return Object(_.jsxs)("div",{className:"header",children:[Object(_.jsx)(l.b,{to:w,className:"header__logo1",children:Object(_.jsx)("img",{className:"logo-img",src:"https://sun9-46.userapi.com/impf/pX8G2t1V-0gpuGdGBdQir3deVQJrAWx8KhcEwA/pjMXfZUh6mU.jpg?size=571x487&quality=96&proxy=1&sign=3241983732d6747cbde468bb11e99e95&type=album"})}),Object(_.jsxs)(l.b,{to:w,className:"header__text",children:[" ","o v i e"]}),Object(_.jsx)(l.b,{to:w,className:"header__logo2",children:Object(_.jsx)("img",{className:"logo-img",src:"https://sun9-55.userapi.com/impf/XU4dymAGJ8AuxNqKou5qMvWC2AG-OCEtEXQ1rA/Or5Zb53Sp0k.jpg?size=572x487&quality=96&proxy=1&sign=9bfc84af1ea9fc585f80d2d14273ad0c&type=album"})}),Object(_.jsx)("div",{className:"header__button",children:Object(_.jsxs)("form",{className:"formButton",onSubmit:function(t){e.push(C.create(document.getElementById("input").value))},children:[Object(_.jsx)("input",{type:"text",className:"inputButton",id:"input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441"}),Object(_.jsx)("button",{type:"submit",className:"search-button"})]})})]})}),H=(i(76),function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("a",{className:"footer-link",href:"https://github.com/Movie-view/Moview",children:Object(_.jsx)("div",{className:"footer",children:"KTS School Project"})})})}),$=function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(W,{}),Object(_.jsxs)(o.c,{children:[Object(_.jsx)(o.a,{path:k.mask,render:function(e){return Object(_.jsx)(z,Object(u.a)({},e))}}),Object(_.jsx)(o.a,{path:C.search,render:function(e){return Object(_.jsx)(Z,Object(u.a)({},e))}}),Object(_.jsx)(o.a,{path:w,children:Object(_.jsx)(U,{})})]}),Object(_.jsx)(H,{})]})};i(77);function ee(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(l.a,{children:Object(_.jsx)($,{})})})}var te=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,79)).then((function(t){var i=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,c=t.getTTFB;i(e),s(e),n(e),a(e),c(e)}))};r.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(ee,{})}),document.getElementById("root")),te()}},[[78,1,2]]]);
//# sourceMappingURL=main.77be9ba7.chunk.js.map